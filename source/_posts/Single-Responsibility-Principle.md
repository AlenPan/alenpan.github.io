---
layout: draft
title: 面向对象设计六大原则（1）
subtitle: 单一职责原则
athor: Alen Pan
tags: 
- 设计模式
- 设计原则
date: 2017-01-05 15:37:42
---

## 什么是SRP？

单一职责原则的英文名称是Single Responsibility Principle，简称SRP。

SRP 的原话解释是 ：

> There should never be more than one reason for a class to change. 

**一个类或者模块应该有且只有一个改变的原因。** 顾名思义，就是要求一个接口或类只有一个职责，它就负责一件事情。



## 为什么要遵守SRP原则？

> When a class has more than one responsibility, there are also more triggers and reasons to change that class. A responsibility is the same as “a reason for change” in this context.

因为每一个职责都是变化的因子，当需求变化时，该变化通常反映为类的职责的变化。
如果一个类承担了多于一个的职责，那么就意味着引起它的变化的原因会有多个，等同于把这些职责耦合在了一起。
一个职责的变化可能会抑制到该类完成其他职责的能力，这样的耦合会导致脆弱的设计。

**在设计类或接口时，如果能够遵守SRP原则，则会带来以下优点：**

1. **类的复杂性降低：**每个类或接口都只定义单一的职责，定义清晰明确
2. **可读性提高：**定义清晰明确，自然带来较高的代码可读性
3. **可维护性提高：**代码可读性提高，意味着更容易理解；单一职责使得类之间的耦合性较低，更改也会较为容易
4. **扩展性更好：**当需要扩展新的职责时，只需要定义新的接口和新的实现即可



## 如何遵守SRP原则？

> Separating responsibility can be done by defining for every responsibility a class or an interface.

**通过为每一项职责定义类或接口来实现职责分离。** 

另外，单一职责不仅适用于接口、类，还适用于方法。



## SRP原则的难点

SRP原则堪称是SOLID原则（SOLID原则是SRP单一职责原则、OCP开闭原则、LSP里氏代换原则 、ISP接口隔离原则 、DIP依赖倒置原则 四个原则的第一个字母简称，如今还多了一个依赖注入DI。）里面最简单的一个原则，但也可以说是最难的一个。

它的“简单”之处在于它很容易被理解，“困难”之处在于很多人在软件设计过程中，很难真正地抓住关键点。

职责没有一个量化的标准，并且受非常多因素的制约，现实中实现起来会有困难。**职责单一是相对的，每个人看事情的角度，对业务的理解程度是不尽相同的，这导致了人们对职责的定义和细化程度的差异性。**同样一个业务，有些人从角度A出发，在对业务提炼归纳总结后，得出三项职责：J、K、L。而有些人则从角度B出发，归纳总结出两项职责：X、Y。

在设计接口时，这两人自然而然地会设计出不同的接口，两人设计的接口个数和表达的语义也各不相同。



## 总结

原则就像基准线，在设计类和接口时，我们应该尽量遵守基准线，而不是死守基准线，在设计时不应死板地依照原则进行设计。这就好比开车，司机的视线应该始终保持在正前方，如果沿着公路上的线开车而忽视了前方的交通情况，可能会引发交通事故。

对于单一职责原则，我的建议是**接口一定要做到单一职责，类设计尽量只有一个原因引起变化**。